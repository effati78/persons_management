{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/effati78/Documents/effati bckup/effati78/Projects/ReactJs-Toplearn/persons_management/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Alert, Button, Badge } from \"react-bootstrap\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport SimpleContext from \"./context/SimpleContext\";\nimport Persons from \"./components/person/Persons\";\nimport Header from \"./components/common/Header\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      persons: [],\n      personName: \"\",\n      showPersons: true\n    };\n\n    this.handleShowPersons = () => {\n      this.setState({\n        showPersons: !this.state.showPersons\n      });\n    };\n\n    this.handleNameChange = (event, id) => {\n      const {\n        persons: allPersons\n      } = this.state;\n      const personIndex = allPersons.findIndex(x => x.id === id);\n      const person = allPersons[personIndex];\n      console.log(person);\n      person.fullname = event.target.value;\n      const persons = [...allPersons];\n      persons[personIndex] = person;\n      this.setState({\n        persons\n      });\n    };\n\n    this.handleDeletePerson = id => {\n      const newPersons = [...this.state.persons];\n      let filteredPersons = newPersons.filter(p => p.id !== id);\n      this.setState({\n        persons: filteredPersons\n      });\n      let person = newPersons.find(p => p.id == id);\n      toast.error(`${person.fullname} با موفقیت حذف شد.`, {\n        position: \"top-right\",\n        closeButton: true,\n        closeOnClick: true\n      });\n    };\n\n    this.handleNewPerson = () => {\n      const persons = [...this.state.persons];\n      let count = persons.length;\n      const person = {\n        id: count++,\n        fullname: this.state.personName\n      };\n\n      if (this.state.personName == \"\" || this.state.personName.split(\"\", 1) == \" \") {\n        toast.dark(`فیلد نام خالی است یا ابتدای آن فاصله تایپ شده است.`, {\n          position: \"top-center\",\n          closeButton: true,\n          closeOnClick: true\n        });\n        return;\n      }\n\n      persons.push(person);\n      toast.success(`${this.state.personName} با موفقیت اضافه شد.`, {\n        position: \"bottom-right\",\n        closeButton: true,\n        closeOnClick: true\n      });\n      this.setState({\n        persons,\n        personName: \"\"\n      });\n    };\n\n    this.setPerson = event => {\n      this.setState({\n        personName: event.target.value\n      });\n    };\n  }\n\n  render() {\n    const {\n      persons,\n      showPersons\n    } = this.state;\n    let person = null;\n\n    if (showPersons) {\n      person = /*#__PURE__*/_jsxDEV(Persons, {\n        persons: persons,\n        handleDeletePerson: this.handleDeletePerson,\n        handleNameChange: this.handleNameChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(SimpleContext, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rtl text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          personsLength: persons.length,\n          appTitle: this.props.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form-inline justify-content-center\",\n            onSubmit: event => event.preventDefault(),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u0627\\u0633\\u0645 \\u0628\\u0647\\u0645 \\u0628\\u062F\\u0647\",\n                className: \"form-control\",\n                onChange: this.setPerson,\n                value: this.state.personName,\n                autoFocus: true,\n                maxLength: \"25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group-prepend\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"success\",\n                  size: \"sm\",\n                  type: \"submit\",\n                  className: \"fa fa-plus-square\",\n                  onClick: this.handleNewPerson\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.handleShowPersons,\n          variant: showPersons ? \"warning\" : \"info\",\n          className: \"m-4\",\n          children: showPersons ? \"پنهان کردن اشخاص \" : \"نمایش دادن اشخاص\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), person, /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/effati78/Documents/effati bckup/effati78/Projects/ReactJs-Toplearn/persons_management/src/App.js"],"names":["React","Component","Alert","Button","Badge","ToastContainer","toast","SimpleContext","Persons","Header","App","state","persons","personName","showPersons","handleShowPersons","setState","handleNameChange","event","id","allPersons","personIndex","findIndex","x","person","console","log","fullname","target","value","handleDeletePerson","newPersons","filteredPersons","filter","p","find","error","position","closeButton","closeOnClick","handleNewPerson","count","length","split","dark","push","success","setPerson","render","props","title","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Alert, Button, Badge } from \"react-bootstrap\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nimport SimpleContext from \"./context/SimpleContext\";\nimport Persons from \"./components/person/Persons\";\nimport Header from \"./components/common/Header\";\n\nclass App extends Component {\n  state = {\n    persons: [],\n    personName: \"\",\n    showPersons: true,\n  };\n\n  handleShowPersons = () => {\n    this.setState({ showPersons: !this.state.showPersons });\n  };\n\n  handleNameChange = (event, id) => {\n    const { persons: allPersons } = this.state;\n\n    const personIndex = allPersons.findIndex((x) => x.id === id);\n    const person = allPersons[personIndex];\n    console.log(person);\n    person.fullname = event.target.value;\n\n    const persons = [...allPersons];\n    persons[personIndex] = person;\n\n    this.setState({ persons });\n  };\n\n  handleDeletePerson = (id) => {\n    const newPersons = [...this.state.persons];\n    let filteredPersons = newPersons.filter((p) => p.id !== id);\n\n    this.setState({ persons: filteredPersons });\n\n    let person = newPersons.find((p) => p.id == id);\n\n    toast.error(`${person.fullname} با موفقیت حذف شد.`, {\n      position: \"top-right\",\n      closeButton: true,\n      closeOnClick: true,\n    });\n  };\n\n  handleNewPerson = () => {\n    const persons = [...this.state.persons];\n    let count = persons.length;\n    const person = {\n      id: count++,\n      fullname: this.state.personName,\n    };\n\n    if (\n      this.state.personName == \"\" ||\n      this.state.personName.split(\"\", 1) == \" \"\n    ) {\n      toast.dark(`فیلد نام خالی است یا ابتدای آن فاصله تایپ شده است.`, {\n        position: \"top-center\",\n        closeButton: true,\n        closeOnClick: true,\n      });\n      return;\n    }\n\n    persons.push(person);\n\n    toast.success(`${this.state.personName} با موفقیت اضافه شد.`, {\n      position: \"bottom-right\",\n      closeButton: true,\n      closeOnClick: true,\n    });\n\n    this.setState({ persons, personName: \"\" });\n  };\n\n  setPerson = (event) => {\n    this.setState({ personName: event.target.value });\n  };\n\n  render() {\n    const { persons, showPersons } = this.state;\n\n    let person = null;\n\n    if (showPersons) {\n      person = (\n        <Persons\n          persons={persons}\n          handleDeletePerson={this.handleDeletePerson}\n          handleNameChange={this.handleNameChange}\n        />\n      );\n    }\n\n    return (\n      <SimpleContext>\n        <div className=\"rtl text-center\">\n          <Header personsLength={persons.length} appTitle={this.props.title} />\n\n          <div>\n            <form\n              className=\"form-inline justify-content-center\"\n              onSubmit={(event) => event.preventDefault()}\n            >\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  placeholder=\"اسم بهم بده\"\n                  className=\"form-control\"\n                  onChange={this.setPerson}\n                  value={this.state.personName}\n                  autoFocus\n                  maxLength=\"25\"\n                />\n                <div className=\"input-group-prepend\">\n                  <Button\n                    variant=\"success\"\n                    size=\"sm\"\n                    type=\"submit\"\n                    className=\"fa fa-plus-square\"\n                    onClick={this.handleNewPerson}\n                  ></Button>\n                </div>\n              </div>\n            </form>\n          </div>\n\n          <Button\n            onClick={this.handleShowPersons}\n            variant={showPersons ? \"warning\" : \"info\"}\n            className=\"m-4\"\n          >\n            {showPersons ? \"پنهان کردن اشخاص \" : \"نمایش دادن اشخاص\"}\n          </Button>\n\n          {person}\n\n          <ToastContainer />\n        </div>\n      </SimpleContext>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}